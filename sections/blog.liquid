{% comment %}
  This section is used in the blog template to render the blog page listing all
  articles within a blog.

  https://shopify.dev/docs/storefronts/themes/architecture/templates/blog
{% endcomment %}

<div class="py-8 px-4 md:px-8">
  <h1 class="text-3xl font-bold mb-8">{{ blog.title }}</h1>

  {% paginate blog.articles by 5 %}
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      {% for article in blog.articles %}
        <article class="group">
          {% if article.image %}
            <a href="{{ article.url }}" class="block overflow-hidden rounded-lg mb-4">
              {{
                article.image
                | image_url: width: 600, height: 400, crop: 'center'
                | image_tag: class: 'w-full h-auto object-cover transition-transform duration-300 group-hover:scale-105'
              }}
            </a>
          {% endif %}
          <h2 class="text-xl font-semibold mb-2">
            <a href="{{ article.url }}" class="hover:underline">{{ article.title }}</a>
          </h2>
          {% assign date = article.published_at | time_tag: format: 'date' %}
          <p class="text-sm text-neutral-600 mb-3">
            {{ 'blog.article_metadata_html' | t: date: date, author: article.author }}
          </p>
          <p class="text-neutral-700 line-clamp-3">{{ article.excerpt }}</p>
        </article>
      {% endfor %}
    </div>

    {%- if paginate.pages > 1 -%}
      <div class="flex justify-center gap-2 mt-12">
        {{- paginate | default_pagination -}}
      </div>
    {%- endif -%}
  {% endpaginate %}
</div>

{% schema %}
{
  "name": "t:general.blog",
  "settings": []
}
{% endschema %}
