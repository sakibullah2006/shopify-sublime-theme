{% comment %}
  This section is used in the cart template to render /cart page with an
  overview of the items in customer's cart.

  https://shopify.dev/docs/storefronts/themes/architecture/templates/cart
{% endcomment %}

<div class="py-8 px-4 md:px-8 max-w-4xl mx-auto">
  <h1 class="text-3xl font-bold mb-8">{{ 'cart.title' | t }}</h1>

  {% if cart.item_count > 0 %}
    <form action="{{ routes.cart_url }}" method="post">
      <div class="space-y-4 mb-8">
        {% for item in cart.items %}
          <div class="flex gap-4 p-4 bg-neutral-50 rounded-lg">
            <a href="{{ item.url }}" class="shrink-0 w-24 h-24 overflow-hidden rounded">
              {% if item.image %}
                {{
                  item.image
                  | image_url: width: 200, height: 200, crop: 'center'
                  | image_tag: class: 'w-full h-full object-cover'
                }}
              {% endif %}
            </a>

            <div class="flex-1 min-w-0">
              <h3 class="font-medium truncate">
                <a href="{{ item.url }}" class="hover:underline">{{ item.product.title }}</a>
              </h3>
              {% if item.variant.title != 'Default Title' %}
                <p class="text-sm text-neutral-600">{{ item.variant.title }}</p>
              {% endif %}
              <p class="text-neutral-900 font-medium mt-1">{{ item.line_price | money }}</p>
            </div>

            <div class="flex flex-col items-end gap-2">
              <div class="flex items-center gap-2">
                <label for="quantity-{{ item.key }}" class="sr-only">{{ 'cart.quantity' | t }}</label>
                <input
                  type="number"
                  name="updates[]"
                  id="quantity-{{ item.key }}"
                  value="{{ item.quantity }}"
                  min="0"
                  class="w-16 px-2 py-1 text-center border border-neutral-300 rounded focus:outline-none focus:ring-2 focus:ring-neutral-900 focus:border-transparent"
                >
              </div>
              <a href="{{ item.url_to_remove }}" class="text-sm text-neutral-600 hover:text-red-600 transition-colors">
                {{ 'cart.remove' | t }}
              </a>
            </div>
          </div>
        {% endfor %}
      </div>

      <div class="border-t border-neutral-200 pt-6">
        <div class="flex justify-between items-center mb-6">
          <span class="text-lg font-medium">{{ 'cart.subtotal' | t }}</span>
          <span class="text-xl font-bold">{{ cart.total_price | money }}</span>
        </div>

        <div class="flex flex-col sm:flex-row gap-3">
          <input
            type="submit"
            value="{{ 'cart.update' | t }}"
            class="px-6 py-3 border border-neutral-300 rounded-lg hover:bg-neutral-50 transition-colors cursor-pointer"
          >
          <input
            type="submit"
            name="checkout"
            value="{{ 'cart.checkout' | t }}"
            class="flex-1 px-6 py-3 bg-neutral-900 text-white rounded-lg hover:bg-neutral-800 transition-colors cursor-pointer"
          >
        </div>
      </div>
    </form>
  {% else %}
    <div class="text-center py-12">
      <p class="text-neutral-600 mb-6">{{ 'cart.empty' | t }}</p>
      <a
        href="{{ routes.all_products_collection_url }}"
        class="inline-flex px-6 py-3 bg-neutral-900 text-white rounded-lg hover:bg-neutral-800 transition-colors"
      >
        {{ 'cart.continue_shopping' | t }}
      </a>
    </div>
  {% endif %}
</div>

{% schema %}
{
  "name": "t:general.cart",
  "settings": []
}
{% endschema %}
